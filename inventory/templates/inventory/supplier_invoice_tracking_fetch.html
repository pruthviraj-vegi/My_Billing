{% load custom_filters %}
{% if page_obj %}
    {% for invoice in page_obj %}
        <tr>
            <td>
                <strong>{{ invoice.invoice_number }}</strong>
            </td>
            <td>{{ invoice.supplier.name }}</td>
            <td>{{ invoice.invoice_date|date:"M d, Y" }}</td>
            <td>{{ invoice.total_amount|currency }}</td>
            <td>{{ invoice.stock_amount|currency }}</td>
            <td>{{ invoice.stock_in_quantity|floatformat:0 }}</td>
            <td>{{ invoice.sales_quantity|floatformat:0 }}</td>
            <td>{{ invoice.remaining_quantity|floatformat:0 }}</td>
            <td>
                <span class="badge {% if invoice.remaining_percentage < 25 %}text-danger{% elif invoice.remaining_percentage < 50 %}text-warning{% else %}text-success{% endif %}">
                    {{ invoice.remaining_percentage|floatformat:2 }}%
                </span>
            </td>
            <td>
                <span class="badge bg-secondary">{{ invoice.products_count }}</span>
            </td>
            <td class="text-right">
                <div class="action-buttons">
                    <a href="{% url 'inventory:supplier_invoice_details' invoice.id %}"
                       class="btn-action btn-view"
                       title="View Invoice Details">
                        <i class="fas fa-eye"></i>
                    </a>
                </div>
            </td>
        </tr>
    {% endfor %}
{% else %}
    <tr>
        <td colspan="11" class="text-center empty-state-container p-3">
            <div class="empty-state">
                <i class="fas fa-inbox"></i>
                <h3>No Supplier Invoices Found</h3>
                <p>No supplier invoices match your filters. Try adjusting the search criteria.</p>
            </div>
        </td>
    </tr>
{% endif %}








